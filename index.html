<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentry SDK Test (index.js)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h1>Sentry Loader Test</h1>
        <p>Loading <code>index.js</code>...</p>
        
        <div class="status-box">
            <h3>SDK Status:</h3>
            <div id="output">Initializing...</div>
        </div>

        <div class="controls">
            <button onclick="console.log('Test log message');">Log to Console</button>
            <button onclick="checkGlobal()">Check Status</button>
        </div>
    </div>

    <script src="index.js"></script>

    <script>
        const outputDiv = document.getElementById('output');

        function log(message, isSuccess) {
            outputDiv.innerHTML = message;
            outputDiv.className = isSuccess ? 'success' : 'error';
        }

        function checkGlobal() {
            // The code you provided attaches itself to the global object as __SENTRY__
            if (window.__SENTRY__) {
                console.log('Sentry Object found:', window.__SENTRY__);
                
                // Try to detect the version from the object structure
                const versions = Object.keys(window.__SENTRY__);
                const version = versions.find(v => v !== 'logger') || 'Unknown';
                
                log(`✅ <strong>Active</strong><br>Global Object: <code>window.__SENTRY__</code><br>Version detected: ${version}`, true);
            } else {
                console.error('Sentry object not found.');
                log("❌ <strong>Failed</strong><br><code>window.__SENTRY__</code> is undefined.<br><em>Did you remove the trailing 'function' word from index.js?</em>", false);
            }
        }

        // Run check automatically on load
        window.onload = checkGlobal;
    </script>
</body>
</html>
